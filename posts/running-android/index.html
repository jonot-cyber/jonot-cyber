<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Running Android | Jonot's Blog</title><meta name=keywords content="Linux"><meta name=description content="WARNING: This blog post comes with no warranty. It should be made clear that I do not know any of what I am doing.
I recently found out that Waydroid, a container-based system to run android apps on Linux, got added to the Fedora repos. I have occasionally tried installing Waydroid with very little success, but this official support from my distro gave me new hope. So I decided to try it out again."><meta name=author content="Me"><link rel=canonical href=https://jonot.me/posts/running-android/><link crossorigin=anonymous href=/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://jonot.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jonot.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jonot.me/favicon-32x32.png><link rel=apple-touch-icon href=https://jonot.me/apple-touch-icon.png><link rel=mask-icon href=https://jonot.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Running Android"><meta property="og:description" content="WARNING: This blog post comes with no warranty. It should be made clear that I do not know any of what I am doing.
I recently found out that Waydroid, a container-based system to run android apps on Linux, got added to the Fedora repos. I have occasionally tried installing Waydroid with very little success, but this official support from my distro gave me new hope. So I decided to try it out again."><meta property="og:type" content="article"><meta property="og:url" content="https://jonot.me/posts/running-android/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-13T19:02:02-05:00"><meta property="article:modified_time" content="2023-01-13T19:02:02-05:00"><meta property="og:site_name" content="Jonot's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Running Android"><meta name=twitter:description content="WARNING: This blog post comes with no warranty. It should be made clear that I do not know any of what I am doing.
I recently found out that Waydroid, a container-based system to run android apps on Linux, got added to the Fedora repos. I have occasionally tried installing Waydroid with very little success, but this official support from my distro gave me new hope. So I decided to try it out again."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jonot.me/posts/"},{"@type":"ListItem","position":2,"name":"Running Android","item":"https://jonot.me/posts/running-android/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Running Android","name":"Running Android","description":"WARNING: This blog post comes with no warranty. It should be made clear that I do not know any of what I am doing.\nI recently found out that Waydroid, a container-based system to run android apps on Linux, got added to the Fedora repos. I have occasionally tried installing Waydroid with very little success, but this official support from my distro gave me new hope. So I decided to try it out again.","keywords":["Linux"],"articleBody":"WARNING: This blog post comes with no warranty. It should be made clear that I do not know any of what I am doing.\nI recently found out that Waydroid, a container-based system to run android apps on Linux, got added to the Fedora repos. I have occasionally tried installing Waydroid with very little success, but this official support from my distro gave me new hope. So I decided to try it out again.\nFirst of all, I installed the package with sudo dnf install waydroid. I decided to use the Arch Wiki page for advice. It gave the following commands:\nOut of those two, you probably want the ones with GApps support. A lot of Android apps require google services. When I ran that command, I got the following output:\n[19:01:27] ERROR: Failed to get system OTA channel: /lineage/waydroid_x86_64/GAPPS.json, error: -1 [19:01:27] See also: Run 'waydroid log' for details. It can’t find an image? Hmm. Well time to start looking for clues. The first three search results didn’t look directly related to my issue, so I moved on from that pretty quick. If there is something you should know about me, it’s that I am lazy.\nSo here are the clues that actually got me to the solution.\nFedora Copr Fedora Copr is basically like Arch’s AUR but with awful search. Before Waydroid was in the normal repos, this is where you would install Waydroid. It is also where I tried and failed to install it. I noticed this paragraph:\nsystem, OTA, waydroid, that’s enough words in common to think that this could be relevant!\nGitHub One of the repositories in the Waydroid organization is named OTA. There’s that word again! (acronym? intialism? whatever)\nAnyways I saw a path that was interesting in here: system/lineage/waydroid_x86_64/GAPPS.json. That looks like what the program was looking for!\nI also noticed the file CNAME. From experience with my own website, this is telling a github pages project to use a custom domain name. And what do we see in here? ota.waydro.id\nSolving the issue I think it’s safe to say that the error message, that note in the COPR repo, and the github repository are all referring to the same thing. But how do I put this information together?\nWell, in the comments of that Fedora COPR page, I saw this:\nBoth of those links (1 and 2) are dead now, but that still gives me useful information. I can use the -c and -v flags to give a custom URL to find the files at.\nPutting this all together, I came up with the following command:\n# Nicely formatted for your reading pleasure sudo waydroid init \\ -s GAPPS \\ -f \\ -c https://ota.waydro.id/system \\ -v https://ota.waydro.id/vendor After entering my password, it started downloading the image. Once it was done, I continued following the arch wiki, and enabled the waydroid-container service with systemctl enable --now waydroid-container.service And everything just worked. Except for:\nThis device isn’t Play Protect certified While testing if it worked, I was getting a notification every 5 seconds or so saying this. From what I can tell (and that is very little) Google has a program where they certify devices to be secure or not, and since this is a container, it hasn’t been secured. As far as I could tell, this didn’t stop anything from working, and you could disable this notification. If this actually means something important please let me know.\n","wordCount":"575","inLanguage":"en","datePublished":"2023-01-13T19:02:02-05:00","dateModified":"2023-01-13T19:02:02-05:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jonot.me/posts/running-android/"},"publisher":{"@type":"Organization","name":"Jonot's Blog","logo":{"@type":"ImageObject","url":"https://jonot.me/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jonot.me/ accesskey=h title="Jonot's Blog (Alt + H)">Jonot's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Running Android</h1><div class=post-meta><span title='2023-01-13 19:02:02 -0500 -0500'>2023-01-13</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me</div></header><div class=post-content><p><strong>WARNING:</strong> This blog post comes with no warranty. It should be made clear that I do not know any of what I am doing.</p><p>I recently found out that <a href=https://waydro.id>Waydroid</a>, a container-based system to run android apps on Linux, got added to the Fedora repos. I have occasionally tried installing Waydroid with very little success, but this official support from my distro gave me new hope. So I decided to try it out again.</p><p>First of all, I installed the package with <code>sudo dnf install waydroid</code>. I decided to use the <a href=https://wiki.archlinux.org/title/Waydroid>Arch Wiki page</a> for advice. It gave the following commands:</p><p><img loading=lazy src=images/archwiki.png alt="Arch Wiki Screenshot. Text: Afterwards init Waydroid, this will automatically download the latest Android image if it is not yet available. &amp;ldquo;# waydroid init&amp;rdquo; to init with GApps support: &amp;ldquo;# waydroid init -s GAPPS -f&amp;rdquo;"></p><p>Out of those two, you probably want the ones with GApps support. A lot of Android apps require google services. When I ran that command, I got the following output:</p><pre tabindex=0><code>[19:01:27] ERROR: Failed to get system OTA channel: /lineage/waydroid_x86_64/GAPPS.json, error: -1
[19:01:27] See also: &lt;https://github.com/waydroid&gt;
Run &#39;waydroid log&#39; for details.
</code></pre><p>It can&rsquo;t find an image? Hmm. Well time to start looking for clues. The <a href="https://duckduckgo.com/?t=ffab&q=Failed+to+get+system+OTA+channel%3A+%2Flineage%2Fwaydroid_x86_64%2FVANILLA.json%2C+error%3A+-1&ia=web">first three search results</a> didn&rsquo;t look directly related to my issue, so I moved on from that pretty quick. If there is something you should know about me, it&rsquo;s that I am lazy.</p><p>So here are the clues that actually got me to the solution.</p><h2 id=fedora-copr>Fedora Copr<a hidden class=anchor aria-hidden=true href=#fedora-copr>#</a></h2><p>Fedora Copr is basically like Arch&rsquo;s AUR but with awful search. Before Waydroid was in the normal repos, this is where you would install Waydroid. It is also where I tried and failed to install it. I noticed this paragraph:</p><p><img loading=lazy src=images/fedoracopr.png alt="Fedora COPR Screenshot. Text: You&amp;rsquo;ll be asked to initialize waydroid with some android images. Paste the following links: System OTA: &amp;ldquo;https://ota.waydro.id/system&amp;rdquo; Vendor OTA: &amp;ldquo;https://ota.waydro.id/vendor&amp;rdquo;"></p><p>system, OTA, waydroid, that&rsquo;s enough words in common to think that this could be relevant!</p><h2 id=github>GitHub<a hidden class=anchor aria-hidden=true href=#github>#</a></h2><p>One of the repositories in the Waydroid organization is named <a href=https://github.com/waydroid/OTA>OTA</a>. There&rsquo;s that word again! (acronym? intialism? whatever)</p><p>Anyways I saw a path that was interesting in here: <code>system/lineage/waydroid_x86_64/GAPPS.json</code>. That looks like what the program was looking for!</p><p>I also noticed the file <code>CNAME</code>. From experience with my own website, this is telling a github pages project to use a custom domain name. And what do we see in here? <code>ota.waydro.id</code></p><h2 id=solving-the-issue>Solving the issue<a hidden class=anchor aria-hidden=true href=#solving-the-issue>#</a></h2><p>I think it&rsquo;s safe to say that the error message, that note in the COPR repo, and the github repository are all referring to the same thing. But how do I put this information together?</p><p>Well, in the comments of that Fedora COPR page, I saw this:</p><p><img loading=lazy src=images/comment.png alt="Extremely Helpful Comment. Text: Just tried it, and ran &amp;ldquo;sudo waydroid init -c https://raw.githubusercontent.com/aleasto/waydroid-ota/main/system -v https://raw.githubusercontent.com/aleasto/waydroid-ota/main/vendor"></p><p>Both of those links (<a href=https://raw.githubusercontent.com/aleasto/waydroid-ota/main/system>1</a> and <a href=https://raw.githubusercontent.com/aleasto/waydroid-ota/main/vendor>2</a>) are dead now, but that still gives me useful information. I can use the <code>-c</code> and <code>-v</code> flags to give a custom URL to find the files at.</p><p>Putting this all together, I came up with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Nicely formatted for your reading pleasure</span>
</span></span><span style=display:flex><span>sudo waydroid init <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -s GAPPS <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -f <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -c https://ota.waydro.id/system <span style=color:#ae81ff>\ </span>
</span></span><span style=display:flex><span>  -v https://ota.waydro.id/vendor
</span></span></code></pre></div><p>After entering my password, it started downloading the image. Once it was done, I continued following the arch wiki, and enabled the <code>waydroid-container</code> service with <code>systemctl enable --now waydroid-container.service</code> And everything just worked. Except for:</p><h2 id=this-device-isnt-play-protect-certified>This device isn&rsquo;t Play Protect certified<a hidden class=anchor aria-hidden=true href=#this-device-isnt-play-protect-certified>#</a></h2><p>While testing if it worked, I was getting a notification every 5 seconds or so saying this. From what I can tell (and that is very little) Google has a program where they certify devices to be secure or not, and since this is a container, it hasn&rsquo;t been secured. As far as I could tell, this didn&rsquo;t stop anything from working, and you could disable this notification. If this actually means something important please let me know.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jonot.me/tags/linux/>Linux</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://jonot.me/>Jonot's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>